<div class="container">
  <h2>Your Reclamations</h2>
  
  <div class="add-form">
    <input [(ngModel)]="newComment" placeholder="Add a new reclamation comment" />
    <input type="file" (change)="onFileSelected($event)" />
    <button (click)="addReclamation()" class="btn add">Add</button>
  </div>

  <div *ngFor="let reclamation of reclamations" class="card">
    <p *ngIf="reclamation.comment"><strong>Comment:</strong> {{reclamation.comment}}</p>
    <p *ngIf="reclamation.fileName"><strong>Attachment:</strong> {{reclamation.fileName}}</p>

    <div *ngIf="reclamation.fileUrl">
        <button (click)="downloadFile(reclamation.id!, reclamation.fileName!)" class="btn download">
            Download File
        </button>
    </div>

    <div class="actions">
        <button (click)="selectReclamation(reclamation)" class="btn edit">Edit</button>
        <button (click)="deleteReclamation(reclamation.id!)" class="btn delete">Delete</button>
    </div>
  </div>

  <div *ngIf="selectedReclamation" class="modal">
    <h3>Edit Reclamation</h3>
    <textarea [(ngModel)]="updatedComment"></textarea>
    <div class="modal-actions">
      <button (click)="saveReclamation()" class="btn save">Save</button>
      <button (click)="cancelEdit()" class="btn cancel">Cancel</button>
    </div>
  </div>
</div>
